<div id="connection-status"  ng-class="{'text-center': true, 'invisible': connection_status != 'connected'}">{{ connection_status }}</div>

<div id="svgdef" class="hide" ng-include="'/sprites.svg'"></div>

<main>
    <p ng-if="messages.length == 0">
        No new messages.
        <span ng-if="asOf > 0"><a ng-click="resetAsOf()" ng-href="">View all</a>.</span>
    </p>

    <header id="page-header" class="clearfix">
        <div class="right">
            <a ng-click="clearAll()" ng-if="messages.length > 0" ng-href="" class="button small radius">Dismiss All</a>
        </div>
    </header>

    <div id="articles">
        <article ng-class="{panel: true, 'panel-with-icon': message.has_icon}" ng-repeat="message in messages">
            <a ng-href="" ng-click="clearOne(message.received)" class="right">
                <svg viewBox="0 0 32 32" class="icon icon-close">
                    <use xlink:href="#icon-close"></use>
                </svg>
            </a>
            <div ng-class="['icon', iconClassForGroup(message.group) ]"></div>

            <div class="noarchive" ng-show="message.noarchive">Not archived</div>

            <h1 ng-show="message.title">
                <a ng-if="message.url" ng-href="{{ message.url }}" target="_blank">{{ message.title }}</a>
                <span ng-if="!message.url">{{ message.title }}</span>
            </h1>
            <time datetime="{{ message.received | date:'yyyy-MM-ddTHH:mmZ' }}" am-time-ago="message.received"=></time>
            <p ng-show="message.body" ng-bind-html="message.body"></p>
        </article>
    </div>
</main>
